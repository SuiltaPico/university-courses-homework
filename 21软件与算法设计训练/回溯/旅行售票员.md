# 旅行售票员问题
## 代码展示
```ts
type City = number
type CitySet = City[]
type Distance = number
type PathMap = Map<String, Distance>

let path_map: PathMap = new Map()
path_map.set([1, 2].sort().toString(), 30)
path_map.set([1, 3].sort().toString(), 6)
path_map.set([1, 4].sort().toString(), 4)
path_map.set([2, 3].sort().toString(), 5)
path_map.set([2, 4].sort().toString(), 10)
path_map.set([3, 4].sort().toString(), 20)

let city_set: CitySet = [1, 2, 3, 4, 5]

let best_path_distance: Distance = Number.MAX_VALUE;
let best_path_stack: City[];

function find_best_path(path_stack: City[], city_set: CitySet, end_city: City) {
    if (path_stack.length == city_set.length) {
        let distance = path_stack.reduce((p, l, ci) => {
            return p + path_map.get([path_stack[ci - 1], l].sort().toString())
        })
        if (distance < best_path_distance) {
            best_path_distance = distance
            best_path_stack = JSON.parse(JSON.stringify(path_stack))
        }
    } else {
        for (let i of city_set) {
            if (path_stack.indexOf(i) < 0 || path_stack.length == city_set.length - 1 && i == end_city) {
                path_stack.push(i)
                find_best_path(path_stack, city_set, end_city)
                path_stack.pop()
            }
        }
    }
}

find_best_path([1], city_set, 1)
console.log(best_path_stack);
```
## 编译结果
浏览器按`F12`，复制到控制台直接运行。

```js
let path_map=new Map();path_map.set([1,2].sort().toString(),30);path_map.set([1,3].sort().toString(),6);path_map.set([1,4].sort().toString(),4);path_map.set([2,3].sort().toString(),5);path_map.set([2,4].sort().toString(),10);path_map.set([3,4].sort().toString(),20);let city_set=[1,2,3,4,5];let best_path_distance=Number.MAX_VALUE;let best_path_stack;function find_best_path(path_stack,city_set,end_city){if(path_stack.length==city_set.length){let distance=path_stack.reduce((p,l,ci)=>{return p+path_map.get([path_stack[ci-1],l].sort().toString())});if(distance<best_path_distance){best_path_distance=distance;best_path_stack=JSON.parse(JSON.stringify(path_stack))}}else{for(let i of city_set){if(path_stack.indexOf(i)<0||path_stack.length==city_set.length-1&&i==end_city){path_stack.push(i);find_best_path(path_stack,city_set,end_city);path_stack.pop()}}}}find_best_path([1],city_set,1);console.log(best_path_distance,best_path_stack);
```

## 运行结果
```js
[ 1, 3, 2, 4, 1 ]
```