# 排序算法
## 桶排序

```cpp
#include <cstdio>

// 希尔排序
template <typename T>
void ShellSort(T *arr, size_t len)
{
    for (size_t gap = len / 2; gap >= 1; gap /= 2)
    {
        for (size_t i = gap; i < len; i++)
        {
            for (long long j = i - gap; j >= 0 && arr[j] > arr[gap + j]; j -= gap)
            {
                T temp = arr[j];
                arr[j] = arr[gap + j];
                arr[gap + j] = temp;
            }
        }
    }
}

// 桶排序
bool bucketSort(int *arr, size_t arr_len, size_t bucket_num = 10)
{
    if (arr_len < 2)
        return false;

    int min, max;
    min = max = arr[0];

    // 寻找最小值和最大值
    for (size_t i = 1; i < arr_len; i++)
    {
        if (arr[i] < min)
            min = arr[i];
        if (arr[i] > max)
            max = arr[i];
    }

    max += 1; // 防止储存最大值时访问桶出错

    /// 桶的实际大小
    const size_t buckets_size = bucket_num * arr_len;

    // 初始化桶和桶的长度

    int *buckets = new int[buckets_size]();
    size_t *buckets_len = new size_t[bucket_num]();

    // 放到桶里

    for (size_t i = 0; i < arr_len; i++)
    {
        /// 对应的桶的位置
        size_t bucket_index = double(arr[i] - min) / double(max - min) * bucket_num;

        buckets[bucket_index * arr_len + buckets_len[bucket_index]] = arr[i];
        buckets_len[bucket_index]++;
    }

    // 对每个桶进行排序

    for (size_t i = 0; i < bucket_num; i++)
        ShellSort((int *)buckets + i * arr_len, buckets_len[i]);

    // 把桶里面的数据放到 arr 上

    size_t arr_index = 0;

    for (size_t i = 0; i < bucket_num; i++)
    {
        for (size_t j = 0; j < buckets_len[i]; j++)
        {
            arr[arr_index] = buckets[i * arr_len + j];
            arr_index++;
        }
    }

    return true;
}

int main()
{
    int arr[] = {71, 35, 52, 87, 92, 72, 58, 46, 70, 78, 74, 78};
    bucketSort(arr, sizeof(arr)/sizeof(int), 10);
    for (size_t i = 0; i < sizeof(arr)/sizeof(int); i++)
        printf("%4d ", arr[i]);
    return 0;
}
```

### 运行结果截图
